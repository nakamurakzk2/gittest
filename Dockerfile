FROM node:22

WORKDIR /usr/src/app

COPY . ./
RUN npm install

EXPOSE 8080

ENV HOST=0.0.0.0
ENV PORT=8080
ENV NEXT_PUBLIC_PROJECT_ID=294a6ed7a8063169ff5324fe56b7ff6a
ENV NEXT_PUBLIC_API_URL=https://alyawmu-ec-server-746157168937.asia-northeast1.run.app
ENV NEXT_PUBLIC_MDK_TOKEN_API_KEY=cd76ca65-7f54-4dec-8ba3-11c12e36a548
ENV NEXT_PUBLIC_WEB3AUTH_CLIENT_ID=BIhjp7H8fZ7TXOXsyi94uBdoDs0IbtYJ4OnBYeMPufIzocvHBsCqOCtXGuYXmaxqCRd6jBhPOzzGD4p9o8asiqk
ENV NEXT_PUBLIC_RECAPTCHA_SITE_KEY=6LdUYB0sAAAAAIB8BppC-f8f7Yx-FFMi5lDkoQfg
ENV NEXT_PUBLIC_ENV=production


RUN npm run build

CMD [ "npm", "run", "start" ]
